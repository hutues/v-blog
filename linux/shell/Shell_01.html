<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell 教程(一) | 就问你学不学</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/v-blog/img/icon.jpg">
    <link rel="stylesheet" href="/v-blog/css/style.css">
    <meta name="description" content="一时不学一时爽 一直不学一直爽">
    
    <link rel="preload" href="/v-blog/assets/css/0.styles.1ffe5c5b.css" as="style"><link rel="preload" href="/v-blog/assets/js/app.9757520d.js" as="script"><link rel="preload" href="/v-blog/assets/js/2.943addfd.js" as="script"><link rel="preload" href="/v-blog/assets/js/122.cb17a43a.js" as="script"><link rel="prefetch" href="/v-blog/assets/js/10.20d21062.js"><link rel="prefetch" href="/v-blog/assets/js/100.3f217fe9.js"><link rel="prefetch" href="/v-blog/assets/js/101.105eaaab.js"><link rel="prefetch" href="/v-blog/assets/js/102.02de7b3a.js"><link rel="prefetch" href="/v-blog/assets/js/103.559454f5.js"><link rel="prefetch" href="/v-blog/assets/js/104.ea42acd8.js"><link rel="prefetch" href="/v-blog/assets/js/105.8d351003.js"><link rel="prefetch" href="/v-blog/assets/js/106.dde5b14d.js"><link rel="prefetch" href="/v-blog/assets/js/107.940f8e4c.js"><link rel="prefetch" href="/v-blog/assets/js/108.5891d6eb.js"><link rel="prefetch" href="/v-blog/assets/js/109.ce709703.js"><link rel="prefetch" href="/v-blog/assets/js/11.86bed542.js"><link rel="prefetch" href="/v-blog/assets/js/110.383ab457.js"><link rel="prefetch" href="/v-blog/assets/js/111.121b0ca3.js"><link rel="prefetch" href="/v-blog/assets/js/112.c49dca7f.js"><link rel="prefetch" href="/v-blog/assets/js/113.aef910eb.js"><link rel="prefetch" href="/v-blog/assets/js/114.dacef158.js"><link rel="prefetch" href="/v-blog/assets/js/115.eddc9987.js"><link rel="prefetch" href="/v-blog/assets/js/116.5fff8536.js"><link rel="prefetch" href="/v-blog/assets/js/117.c04b4a12.js"><link rel="prefetch" href="/v-blog/assets/js/118.a4892f90.js"><link rel="prefetch" href="/v-blog/assets/js/119.0da7b717.js"><link rel="prefetch" href="/v-blog/assets/js/12.d8c07dec.js"><link rel="prefetch" href="/v-blog/assets/js/120.103742f0.js"><link rel="prefetch" href="/v-blog/assets/js/121.23fc8493.js"><link rel="prefetch" href="/v-blog/assets/js/123.545c66ab.js"><link rel="prefetch" href="/v-blog/assets/js/124.2aa20394.js"><link rel="prefetch" href="/v-blog/assets/js/125.aed46207.js"><link rel="prefetch" href="/v-blog/assets/js/126.5777cb4e.js"><link rel="prefetch" href="/v-blog/assets/js/127.459a7ebe.js"><link rel="prefetch" href="/v-blog/assets/js/128.9e58fdfd.js"><link rel="prefetch" href="/v-blog/assets/js/129.6d6d74d4.js"><link rel="prefetch" href="/v-blog/assets/js/13.0832914a.js"><link rel="prefetch" href="/v-blog/assets/js/130.b4436fa4.js"><link rel="prefetch" href="/v-blog/assets/js/131.4a8a7af2.js"><link rel="prefetch" href="/v-blog/assets/js/132.16a8c34a.js"><link rel="prefetch" href="/v-blog/assets/js/133.2a5afa49.js"><link rel="prefetch" href="/v-blog/assets/js/14.b7938acc.js"><link rel="prefetch" href="/v-blog/assets/js/15.fb1b5215.js"><link rel="prefetch" href="/v-blog/assets/js/16.e4456b0c.js"><link rel="prefetch" href="/v-blog/assets/js/17.438f8f1d.js"><link rel="prefetch" href="/v-blog/assets/js/18.0ede3ec4.js"><link rel="prefetch" href="/v-blog/assets/js/19.5a9e5b3b.js"><link rel="prefetch" href="/v-blog/assets/js/20.906cae4f.js"><link rel="prefetch" href="/v-blog/assets/js/21.1dc6915d.js"><link rel="prefetch" href="/v-blog/assets/js/22.13df625f.js"><link rel="prefetch" href="/v-blog/assets/js/23.c32f30b3.js"><link rel="prefetch" href="/v-blog/assets/js/24.3341a2c8.js"><link rel="prefetch" href="/v-blog/assets/js/25.27aaa382.js"><link rel="prefetch" href="/v-blog/assets/js/26.83ac3cdf.js"><link rel="prefetch" href="/v-blog/assets/js/27.92749014.js"><link rel="prefetch" href="/v-blog/assets/js/28.d978fd58.js"><link rel="prefetch" href="/v-blog/assets/js/29.81ef10bf.js"><link rel="prefetch" href="/v-blog/assets/js/3.5b997c96.js"><link rel="prefetch" href="/v-blog/assets/js/30.f4ff455b.js"><link rel="prefetch" href="/v-blog/assets/js/31.1bfdb408.js"><link rel="prefetch" href="/v-blog/assets/js/32.0ea2a98e.js"><link rel="prefetch" href="/v-blog/assets/js/33.ff83980c.js"><link rel="prefetch" href="/v-blog/assets/js/34.eab36e97.js"><link rel="prefetch" href="/v-blog/assets/js/35.43ab05c1.js"><link rel="prefetch" href="/v-blog/assets/js/36.5bf5c02a.js"><link rel="prefetch" href="/v-blog/assets/js/37.58673278.js"><link rel="prefetch" href="/v-blog/assets/js/38.21ad9984.js"><link rel="prefetch" href="/v-blog/assets/js/39.6ff55661.js"><link rel="prefetch" href="/v-blog/assets/js/4.987baa04.js"><link rel="prefetch" href="/v-blog/assets/js/40.2cba54e2.js"><link rel="prefetch" href="/v-blog/assets/js/41.84a20a21.js"><link rel="prefetch" href="/v-blog/assets/js/42.9da44a43.js"><link rel="prefetch" href="/v-blog/assets/js/43.fafa9458.js"><link rel="prefetch" href="/v-blog/assets/js/44.ed627efa.js"><link rel="prefetch" href="/v-blog/assets/js/45.fe00ab2d.js"><link rel="prefetch" href="/v-blog/assets/js/46.aaa056b9.js"><link rel="prefetch" href="/v-blog/assets/js/47.9a157331.js"><link rel="prefetch" href="/v-blog/assets/js/48.d3e9bab8.js"><link rel="prefetch" href="/v-blog/assets/js/49.4ac26c7b.js"><link rel="prefetch" href="/v-blog/assets/js/5.d250cb53.js"><link rel="prefetch" href="/v-blog/assets/js/50.1697cd1a.js"><link rel="prefetch" href="/v-blog/assets/js/51.80725f36.js"><link rel="prefetch" href="/v-blog/assets/js/52.83fb2a4c.js"><link rel="prefetch" href="/v-blog/assets/js/53.2332a201.js"><link rel="prefetch" href="/v-blog/assets/js/54.b5029957.js"><link rel="prefetch" href="/v-blog/assets/js/55.8c6b22f7.js"><link rel="prefetch" href="/v-blog/assets/js/56.abd4bb82.js"><link rel="prefetch" href="/v-blog/assets/js/57.bd7b8633.js"><link rel="prefetch" href="/v-blog/assets/js/58.46c17994.js"><link rel="prefetch" href="/v-blog/assets/js/59.a31226a2.js"><link rel="prefetch" href="/v-blog/assets/js/6.d7e152ce.js"><link rel="prefetch" href="/v-blog/assets/js/60.058714d1.js"><link rel="prefetch" href="/v-blog/assets/js/61.0740b5c3.js"><link rel="prefetch" href="/v-blog/assets/js/62.4f184bd7.js"><link rel="prefetch" href="/v-blog/assets/js/63.7a9d91cc.js"><link rel="prefetch" href="/v-blog/assets/js/64.fef20fa9.js"><link rel="prefetch" href="/v-blog/assets/js/65.cbd95b1f.js"><link rel="prefetch" href="/v-blog/assets/js/66.b2291a46.js"><link rel="prefetch" href="/v-blog/assets/js/67.db00cb98.js"><link rel="prefetch" href="/v-blog/assets/js/68.c28ede87.js"><link rel="prefetch" href="/v-blog/assets/js/69.50649a9a.js"><link rel="prefetch" href="/v-blog/assets/js/7.20e85fea.js"><link rel="prefetch" href="/v-blog/assets/js/70.66f17c56.js"><link rel="prefetch" href="/v-blog/assets/js/71.af535864.js"><link rel="prefetch" href="/v-blog/assets/js/72.d24326c6.js"><link rel="prefetch" href="/v-blog/assets/js/73.f6598b47.js"><link rel="prefetch" href="/v-blog/assets/js/74.59684f4d.js"><link rel="prefetch" href="/v-blog/assets/js/75.0f462117.js"><link rel="prefetch" href="/v-blog/assets/js/76.63c07c20.js"><link rel="prefetch" href="/v-blog/assets/js/77.32af0893.js"><link rel="prefetch" href="/v-blog/assets/js/78.3cc730d2.js"><link rel="prefetch" href="/v-blog/assets/js/79.3e4e669f.js"><link rel="prefetch" href="/v-blog/assets/js/8.62d70654.js"><link rel="prefetch" href="/v-blog/assets/js/80.1029dfc9.js"><link rel="prefetch" href="/v-blog/assets/js/81.8add107d.js"><link rel="prefetch" href="/v-blog/assets/js/82.e2dc49c1.js"><link rel="prefetch" href="/v-blog/assets/js/83.9f6a27c1.js"><link rel="prefetch" href="/v-blog/assets/js/84.0c04de55.js"><link rel="prefetch" href="/v-blog/assets/js/85.49fe0a69.js"><link rel="prefetch" href="/v-blog/assets/js/86.ab084c8b.js"><link rel="prefetch" href="/v-blog/assets/js/87.7def94a0.js"><link rel="prefetch" href="/v-blog/assets/js/88.6f8da00a.js"><link rel="prefetch" href="/v-blog/assets/js/89.70cefdba.js"><link rel="prefetch" href="/v-blog/assets/js/9.10bc236a.js"><link rel="prefetch" href="/v-blog/assets/js/90.6b770133.js"><link rel="prefetch" href="/v-blog/assets/js/91.db52b1bc.js"><link rel="prefetch" href="/v-blog/assets/js/92.e37b0c57.js"><link rel="prefetch" href="/v-blog/assets/js/93.682638aa.js"><link rel="prefetch" href="/v-blog/assets/js/94.4c42d5b5.js"><link rel="prefetch" href="/v-blog/assets/js/95.012d67a2.js"><link rel="prefetch" href="/v-blog/assets/js/96.70211961.js"><link rel="prefetch" href="/v-blog/assets/js/97.12d99977.js"><link rel="prefetch" href="/v-blog/assets/js/98.7db8c36f.js"><link rel="prefetch" href="/v-blog/assets/js/99.b02ac7a0.js">
    <link rel="stylesheet" href="/v-blog/assets/css/0.styles.1ffe5c5b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/v-blog/" class="home-link router-link-active"><!----> <span class="site-name">就问你学不学</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><span class="title">Java基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java基础" class="mobile-dropdown-title"><span class="title">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/java/juc/" class="nav-link">
  并发
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/nio/" class="nav-link">
  NIO
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/jvm/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/jdk-features/" class="nav-link">
  JDK
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/tools/" class="nav-link">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/data-structures-algorithms/" class="nav-link">
  数据结构/算法
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/design-pattern/" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java框架" class="dropdown-title"><span class="title">Java框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java框架" class="mobile-dropdown-title"><span class="title">Java框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/java/frameworks-java/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/frameworks-java/spring-mvc/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/frameworks-java/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/frameworks-java/spring-boot/" class="nav-link">
  SpringBoot
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/java/micro-service/dubbo/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/micro-service/spring-cloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/micro-service/zookeeper/" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/micro-service/netty/" class="nav-link">
  Netty
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/db/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/db/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/db/es/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/middle-ware/job/" class="nav-link">
  Job
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/middle-ware/mq/" class="nav-link">
  Mq
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/middle-ware/fdfs/" class="nav-link">
  分布式文件系统
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux" class="mobile-dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/linux/vim/" class="nav-link">
  Vim
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/linux/shell/" class="nav-link router-link-active">
  Shell
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/front-end/" class="nav-link">
  Samples
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/hutues/v-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/hm223/blog-all" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><span class="title">Java基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java基础" class="mobile-dropdown-title"><span class="title">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/java/juc/" class="nav-link">
  并发
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/nio/" class="nav-link">
  NIO
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/jvm/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/jdk-features/" class="nav-link">
  JDK
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/tools/" class="nav-link">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/data-structures-algorithms/" class="nav-link">
  数据结构/算法
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/design-pattern/" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java框架" class="dropdown-title"><span class="title">Java框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java框架" class="mobile-dropdown-title"><span class="title">Java框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/java/frameworks-java/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/frameworks-java/spring-mvc/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/frameworks-java/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/frameworks-java/spring-boot/" class="nav-link">
  SpringBoot
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/java/micro-service/dubbo/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/micro-service/spring-cloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/micro-service/zookeeper/" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/java/micro-service/netty/" class="nav-link">
  Netty
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/db/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/db/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/db/es/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/middle-ware/job/" class="nav-link">
  Job
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/middle-ware/mq/" class="nav-link">
  Mq
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/middle-ware/fdfs/" class="nav-link">
  分布式文件系统
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux" class="mobile-dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/linux/vim/" class="nav-link">
  Vim
</a></li><li class="dropdown-item"><!----> <a href="/v-blog/linux/shell/" class="nav-link router-link-active">
  Shell
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v-blog/front-end/" class="nav-link">
  Samples
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/hutues/v-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/hm223/blog-all" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Shell</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v-blog/linux/shell/Shell_01.html" aria-current="page" class="active sidebar-link">Shell 教程(一)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_1-概要" class="sidebar-link">1 概要</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_2-第一个shell脚本" class="sidebar-link">2 第一个Shell脚本</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_3-shell变量" class="sidebar-link">3 Shell变量</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_4-shell数组" class="sidebar-link">4 Shell数组</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_5-shell注释" class="sidebar-link">5 Shell注释</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_6-shell传递参数" class="sidebar-link">6 Shell传递参数</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_7-shell运算符" class="sidebar-link">7 Shell运算符</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_8-shell-echo命令" class="sidebar-link">8 Shell echo命令</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_9-shell-printf-命令" class="sidebar-link">9 Shell printf 命令</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_10-shell-test命令" class="sidebar-link">10 Shell test命令</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_11-shell流程控制" class="sidebar-link">11 Shell流程控制</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_12-shell函数" class="sidebar-link">12 Shell函数</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_13-shell-输入-输出重定向" class="sidebar-link">13 Shell 输入/输出重定向</a></li><li class="sidebar-sub-header"><a href="/v-blog/linux/shell/Shell_01.html#_14-shell-文件包含" class="sidebar-link">14 Shell 文件包含</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="shell-教程-一"><a href="#shell-教程-一" class="header-anchor">#</a> Shell 教程(一)</h1> <h2 id="_1-概要"><a href="#_1-概要" class="header-anchor">#</a> 1 概要</h2> <h3 id="_1-1-shell概述"><a href="#_1-1-shell概述" class="header-anchor">#</a> 1.1 Shell概述</h3> <p>​		Shell是一个C语言编写的程序，它是用户使用Linux的桥梁。Shell既是一种命令语言，又是一种程序设计语言。
​		Shell是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。
​		Ken Thompson的sh是一种Unix Shell，Windows Explorer是一个典型的图形界面Shell。</p> <h3 id="_1-2-shell脚本"><a href="#_1-2-shell脚本" class="header-anchor">#</a> 1.2 Shell脚本</h3> <p>​		Shell脚本(shell script),是一种为shell编写的脚本程序。</p> <p>​		我们说的shell通常是指shell脚本，但shell和shell script是两个不同的概念。</p> <p>​		本文出现的“shell编程” 都是指shell脚本编程，不是指开发shell。</p> <h3 id="_1-3-shell环境"><a href="#_1-3-shell环境" class="header-anchor">#</a> 1.3 Shell环境</h3> <p>​		Shell编程跟JavaScript、PHP编程一样，只要有一个能写代码的文本编辑器和一个能解释执行的脚本解释器即可。</p> <p>Linux的Shell种类众多，常见的有：</p> <ul><li><p>Bourne Shell（/usr/bin/sh或/bin/sh）</p></li> <li><p>Bourne Again Shell （/bin/bash）</p></li> <li><p>C Sheel （/usr/bin/csh）</p></li> <li><p>K Sheel（/usr/bin/ksh）</p></li> <li><p>Sheel for Root（/sbin/sh）</p></li> <li><p>......</p></li></ul> <p>​        本教程关注的是Bash，也就是Bourne Again Shell，因为它易用，免费，在日常生活中已经被广泛应用。
而且，Bash也是大多数Linux系统默认的Shell。
一般情况下，不区分Bourne Shell和Bourne Again Shell，<code>#!/bin/sh</code>，同样可以修改为<code>#!/bin/bash</code>。</p> <h2 id="_2-第一个shell脚本"><a href="#_2-第一个shell脚本" class="header-anchor">#</a> 2 第一个Shell脚本</h2> <h3 id="_2-1-创建脚本"><a href="#_2-1-创建脚本" class="header-anchor">#</a> 2.1 创建脚本</h3> <p>​		打开文本编辑器(可以使用vi/vim命令来创建文件)，新建一个文件test.sh，扩展名为sh(sh代表shell)。
​		扩展名并不会影响脚本的执行，见名知意就好，如果你用php写shell脚本，扩展名用php就好了。</p> <p>示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello World !&quot;</span>
</code></pre></div><p><code>#!</code> 是一个约定的标记，告诉系统这个脚本需要什么解释器来执行(使用哪一种shell)</p> <h3 id="_2-2-执行脚本"><a href="#_2-2-执行脚本" class="header-anchor">#</a> 2.2 执行脚本</h3> <h4 id="_2-2-1-作为可执行程序"><a href="#_2-2-1-作为可执行程序" class="header-anchor">#</a> 2.2.1 作为可执行程序</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chmod</span> +x ./test.sh  <span class="token comment"># 使得脚本具有执行权限</span>
./test.sh <span class="token comment"># 执行脚本</span>
</code></pre></div><p>注意，一定要写成<code>./test.sh</code>，而不是<code>test.sh</code>。</p> <p>因为直接写test.sh，linux系统会去PATH里面找test.sh，而只有/bin，/sbin，/usr/bin等在PATH里面。写成<code>./test.sh</code>，就告诉系统在当前目录找一个叫test.sh的。</p> <h4 id="_2-2-2-作为解释器参数"><a href="#_2-2-2-作为解释器参数" class="header-anchor">#</a> 2.2.2 作为解释器参数</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>/bin/sh test.sh
/bin/php test.php
</code></pre></div><p>此方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p> <h2 id="_3-shell变量"><a href="#_3-shell变量" class="header-anchor">#</a> 3 Shell变量</h2> <h3 id="_3-1-变量的定义"><a href="#_3-1-变量的定义" class="header-anchor">#</a> 3.1 变量的定义</h3> <p>定义变量时，变量名不需要加美元符（$）如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;huwenfeng.xyz&quot;</span>
your_name <span class="token operator">=</span><span class="token string">&quot;huwenfeng.xyz&quot;</span> <span class="token comment"># 反例：变量名和等号之间不能有空格  </span>
</code></pre></div><p>变量命名注意事项：</p> <ul><li>只能用英文字母，数字，下划线，不能以数字开头</li> <li>中间不能有空格，可以使用下划线（_）</li> <li>不能使用标点符号</li> <li>不能使用bash里面的关键字（可用help命令查看保留关键字）</li></ul> <h3 id="_3-2-变量的使用"><a href="#_3-2-变量的使用" class="header-anchor">#</a> 3.2 变量的使用</h3> <p>使用一个定义过的变量，只要在变量名后面加美元符即可，如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;huwenfeng&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${your_name}</span>
</code></pre></div><p>变量名外面的花括号是可选的，加不加都行，加了是帮助解释器识别边界。比如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">skill</span> <span class="token keyword">in</span> Ada Coffe Action Java<span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;I am good at <span class="token variable">${skill}</span>Script&quot;</span>		
</code></pre></div><p>如果上述不加花括号，就会将<code>skillScript</code>当成一个变量，而不是我们想要的结果。</p> <p>推荐给所有的变量加上花括号，这是一个编程的好习惯。</p> <p>已经定义的变量也可以被重复定义，</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;tom&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
<span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;alibaba&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
</code></pre></div><p>这样写是合法的，注意，赋值的时候不能写<code>$your_name=&quot;alibaba&quot;</code>，使用变量才加美元符（$）。</p> <h4 id="只读变量"><a href="#只读变量" class="header-anchor">#</a> 只读变量</h4> <p>使用<code>readonly</code>命令可以将变量定义为只读变量(值不能被改变)。比如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">&quot;http://www.google.com&quot;</span>
<span class="token builtin class-name">readonly</span> myUrl
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">&quot;http://huwenfeng.xyz&quot;</span>
<span class="token comment"># 错误提示: read-only variable: myUrl</span>
</code></pre></div><h4 id="删除变量"><a href="#删除变量" class="header-anchor">#</a> 删除变量</h4> <p>使用<code>unset</code> 命令可以删除变量。语法：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">unset</span> variable_name
</code></pre></div><p>变量被删除后不能再次使用。unset命令不能删除只读变量。比如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">&quot;http://huwenfeng.xyz&quot;</span>
<span class="token builtin class-name">unset</span> myUrl
<span class="token builtin class-name">echo</span> <span class="token variable">${myUrl}</span> <span class="token comment"># 将不会有任何输出</span>
</code></pre></div><h4 id="变量类型"><a href="#变量类型" class="header-anchor">#</a> 变量类型</h4> <p>运行shell时，会有三种变量类型：</p> <ul><li>局部变量：在脚本或命令中定义，仅在当前shell实例中有效，其它shell启动的程序不能访问。</li> <li>环境变量：所有程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</li> <li>shell变量：shell程序设置的特殊变量。shell变量中一部分是环境变量，一部分是局部变量，这些变量保证了shell的正常运行。</li></ul> <h3 id="_3-3-shell字符串"><a href="#_3-3-shell字符串" class="header-anchor">#</a> 3.3 Shell字符串</h3> <h4 id="单引号"><a href="#单引号" class="header-anchor">#</a> 单引号</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">'this is a string'</span>
</code></pre></div><p>单引号字符串的限制：</p> <ul><li>单引号里的任何字符都会原样输出，单引号中字符串的变量是无效的；</li> <li>单引号字符串中不能出现单独的一个引号。</li></ul> <h4 id="双引号"><a href="#双引号" class="header-anchor">#</a> 双引号</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;huwenfeng&quot;</span>
<span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">&quot;hello, I know you are <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">${your_name}</span><span class="token entity" title="\&quot;">\&quot;</span>! &quot;</span>
<span class="token builtin class-name">echo</span> -e <span class="token variable">${str}</span>
</code></pre></div><p>双引号的有点：</p> <ul><li>双引号里可以有变量；</li> <li>双引号可以出现转义字符。</li></ul> <h4 id="拼接字符串"><a href="#拼接字符串" class="header-anchor">#</a> 拼接字符串</h4> <p>直接使用单引号或者双引号进行拼接，比如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;runoob&quot;</span>
<span class="token comment"># 使用双引号拼接</span>
<span class="token assign-left variable">greeting</span><span class="token operator">=</span><span class="token string">&quot;hello, &quot;</span><span class="token variable">$your_name</span><span class="token string">&quot; !&quot;</span>
<span class="token assign-left variable">greeting_1</span><span class="token operator">=</span><span class="token string">&quot;hello, <span class="token variable">${your_name}</span> !&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting</span>  <span class="token variable">$greeting_1</span>
<span class="token comment"># 使用单引号拼接</span>
<span class="token assign-left variable">greeting_2</span><span class="token operator">=</span><span class="token string">'hello, '</span><span class="token variable">$your_name</span><span class="token string">' !'</span>
<span class="token assign-left variable">greeting_3</span><span class="token operator">=</span><span class="token string">'hello, ${your_name} !'</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting_2</span>  <span class="token variable">$greeting_3</span>

<span class="token comment"># 输出结果如下：</span>
hello, runoob <span class="token operator">!</span> hello, runoob <span class="token operator">!</span>
hello, runoob <span class="token operator">!</span> hello, <span class="token variable">${your_name}</span> <span class="token operator">!</span>
</code></pre></div><h4 id="获取字符串长度"><a href="#获取字符串长度" class="header-anchor">#</a> 获取字符串长度</h4> <p>使用<code>#</code>加上字符串，获取字符串长度，比如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;abcd&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>string}</span> <span class="token comment"># 输出4</span>
</code></pre></div><h4 id="提取字符串"><a href="#提取字符串" class="header-anchor">#</a> 提取字符串</h4> <p>使用 <code>string:起始位置索引:提取字符个数</code>，比如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;happy every day&quot;</span> <span class="token comment"># 索引位置是从0开始</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${string<span class="token operator">:</span>1<span class="token operator">:</span>4}</span> <span class="token comment">#  从索引为1的位置开始，截取四个字符， 输出 appy</span>
</code></pre></div><h4 id="查找子字符串"><a href="#查找子字符串" class="header-anchor">#</a> 查找子字符串</h4> <p>查找字符串h或o的位置（哪个字母先出现就计算哪个）</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;happy every day&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">&quot;<span class="token variable">${string}</span>&quot;</span> ho<span class="token variable">`</span></span> <span class="token comment"># 输出1,这个位置是从1开始，区别于字符串的索引。</span>
</code></pre></div><h2 id="_4-shell数组"><a href="#_4-shell数组" class="header-anchor">#</a> 4 Shell数组</h2> <p>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。</p> <p>数组下标从0开始。根据下标可以获取数组中元素，下标可以是整数或算数表达式。</p> <h3 id="定义数组"><a href="#定义数组" class="header-anchor">#</a> 定义数组</h3> <p>Shell中，用括号来表示数组，数组元素用&quot;空格&quot;符号分隔开。定义数组一般形式为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>数组名<span class="token operator">=</span><span class="token punctuation">(</span>值1 值2 <span class="token punctuation">..</span>. 值n<span class="token punctuation">)</span>
</code></pre></div><p>例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>value0 value1 value2 value3<span class="token punctuation">)</span>
<span class="token comment"># 或者</span>
<span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>
value0
value1
value2
value3
<span class="token punctuation">)</span>

<span class="token comment"># 还可以单独定义数组的各个分量</span>
array_name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>value0
array_name<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>value1
array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">=</span>valuen
</code></pre></div><p>可以不使用连续的下标，而且下标的范围没有限制。</p> <h3 id="读取数组"><a href="#读取数组" class="header-anchor">#</a> 读取数组</h3> <p>读取数组的一般格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token variable">${数组名<span class="token punctuation">[</span>下标<span class="token punctuation">]</span>}</span>
<span class="token comment"># 例如</span>
<span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token variable">${array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span>}</span>
<span class="token comment"># 使用@符号可以或者数组汇总的所有元素，例如：</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${array_name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
</code></pre></div><h3 id="获取数组的长度"><a href="#获取数组的长度" class="header-anchor">#</a> 获取数组的长度</h3> <p>获取数组的长度和获取字符串的长度相同，例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 取得数组元素的个数</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token comment"># 或者</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>*<span class="token punctuation">]</span>
<span class="token operator">#</span> 取得数组单个元素的长度
length=${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span>}</span>
</code></pre></div><h2 id="_5-shell注释"><a href="#_5-shell注释" class="header-anchor">#</a> 5 Shell注释</h2> <h3 id="单行注释"><a href="#单行注释" class="header-anchor">#</a> 单行注释</h3> <p>以 <strong>#</strong> 开头的行就是注释，会被解释器忽略。</p> <p>通过每一行加一个 <strong>#</strong> 号设置多行注释，像这样：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#--------------------------------------------</span>
<span class="token comment"># 这是一个注释</span>
<span class="token comment"># author：菜鸟教程</span>
<span class="token comment"># site：www.runoob.com</span>
<span class="token comment"># slogan：学的不仅是技术，更是梦想！</span>
<span class="token comment">#--------------------------------------------</span>
<span class="token comment">##### 用户配置区 开始 #####</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment"># 这里可以添加脚本描述信息</span>
<span class="token comment"># </span>
<span class="token comment">#</span>
<span class="token comment">##### 用户配置区 结束  #####</span>
</code></pre></div><p>如果在开发过程中，遇到大段代码需要临时注释起来，过一会又要取消注释，怎么办？</p> <p>每一行加个#符号太费劲了，可以吧这一段要注释的代码用一对花括号括起来，定义成一个函数，没有地方调用这个函数，这块代码就不会执行，就带到了和注释一样的效果。</p> <h3 id="多行注释"><a href="#多行注释" class="header-anchor">#</a> 多行注释</h3> <p>格式：<code>:&lt;&lt; 加上 EOF | '(单引号) | ！(叹号)</code></p> <p>多行注释可以使用以下格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>:<span class="token operator">&lt;&lt;</span><span class="token string">EOF
注释内容...
注释内容...
注释内容...
EOF</span>
</code></pre></div><p>EOF也可以使用其他符号：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>:<span class="token operator">&lt;&lt;</span><span class="token string">'
注释内容...
注释内容...
注释内容...
'</span>

:<span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
<span class="token operator">!</span>
</code></pre></div><h2 id="_6-shell传递参数"><a href="#_6-shell传递参数" class="header-anchor">#</a> 6 Shell传递参数</h2> <p>脚本内获取参数对的格式为：<code>$n 其中n</code>代表一个数字，<code>$1中1</code>为执行脚本的第一个参数 ，<code>$2中的2</code>为执行脚本的第二个参数，以此类推。。。</p> <p>示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Shell 传递参数实例！&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;执行的文件名：<span class="token variable">$0</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为：<span class="token variable">$1</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第二个参数为：<span class="token variable">$2</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第三个参数为：<span class="token variable">$3</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$#</span>
</code></pre></div><p>为脚本设置可执行权限，并执行脚本，输出结果如下所示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">chmod</span> +x test.sh <span class="token comment"># 添加执行权限</span>
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token comment"># 执行脚本</span>
<span class="token comment"># 输出结果为</span>
Shell 传递参数实例！
执行的文件名为：./test.sh
第一个参数为：1
第二个参数为：2
第三个参数为：3
</code></pre></div><p>另外，还有几个特殊字符用来处理参数：</p> <table><thead><tr><th>参数处理</th> <th>说明</th></tr></thead> <tbody><tr><td>$#</td> <td>传递到脚本的参数个数</td></tr> <tr><td>$*</td> <td>以单个字符串显示所有脚本传递的参数</td></tr> <tr><td>$$</td> <td>脚本运行的当前进程ID号</td></tr> <tr><td>$!</td> <td>后台运行的最后一个进程ID号</td></tr> <tr><td>$@</td> <td>和$*相同，但是使用时加引号，并在引号中返回每个参数</td></tr> <tr><td>$-</td> <td>显示Shell使用的当前选项，与set命令功能相同</td></tr> <tr><td>$?</td> <td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Shell 传递参数实例！&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为：<span class="token variable">$1</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数个数为：<span class="token variable">$#</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;传递的参数作为一个字符串显示：<span class="token variable">$*</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;传递的每个参数作为一个字符串显示：<span class="token variable">$@</span>&quot;</span>
</code></pre></div><p>执行脚本，输出结果如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">chmod</span> +x test.sh
$ ./test.sh
Shell 传递参数示例！
第一个参数为：1
参数个数为：3
传递的参数作为一个字符串显示：1 <span class="token number">2</span> <span class="token number">3</span>
</code></pre></div><p>$*与$@区别：</p> <ul><li>相同点：都是引用所有参数</li> <li>不同的：$*显示为&quot;1 2 3&quot;(一个字符串)，$@显示为&quot;1&quot; &quot;2&quot; &quot;3&quot;(3个字符串)</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-- \<span class="token variable">$*</span> 演示 ---&quot;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-- \<span class="token variable">$@</span> 演示 ---&quot;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">chmod</span> +x test.sh
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
-- <span class="token variable">$*</span> 演示 ---
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
-- <span class="token variable">$@</span> 演示 ---
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre></div><h2 id="_7-shell运算符"><a href="#_7-shell运算符" class="header-anchor">#</a> 7 Shell运算符</h2> <p>Shell支持多种运算符：</p> <ul><li>算法运算符</li> <li>关系运算符</li> <li>布尔运算符</li> <li>字符串运算符</li> <li>文件测试运算符</li></ul> <p>原生的bash不支持简单的数学运算，但是可以通过其他命令来实现，例如awk和expr，expr最为常用。</p> <p><code>expr</code>是一款表达式计算工具，使用它能完成表达式的求值操作。</p> <p>例如，两个数相加(注意使用的是反引号` 而不是单引号')：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">2</span><span class="token variable">`</span></span> <span class="token comment"># 如果 2+2是错误的 运算符之间需要有空格 </span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;两数之和为：<span class="token variable">${val}</span>&quot;</span>
</code></pre></div><p>需要注意的地方：</p> <ul><li>表达式和运算符之间需要有空格</li> <li>完整的表达式需要用两个反引号``包裹。</li></ul> <h3 id="算数运算符"><a href="#算数运算符" class="header-anchor">#</a> 算数运算符</h3> <table><thead><tr><th>运算符</th> <th>举例</th></tr></thead> <tbody><tr><td>+</td> <td>`expr $a + $b`</td></tr> <tr><td>-</td> <td>`expr $a - $b`</td></tr> <tr><td>*</td> <td>`expr $a * $b`</td></tr> <tr><td>/</td> <td>`expr $a / $b`</td></tr> <tr><td>%</td> <td>`expr $a % $b`</td></tr> <tr><td>=</td> <td>a=$b 把变量b的值，赋值给a</td></tr> <tr><td>==</td> <td>[ $a == $b ]</td></tr> <tr><td>!=</td> <td>[ $a != $b ]</td></tr></tbody></table> <p>注意：条件表达式要放在两个方括号之间，并且需要加空格，例如[$a==$b]是错误的，必须写成[ $a == $b ]。</p> <p>示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a + b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a - $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a - b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a * b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $b / $a<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b / a : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $b % $a<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b % a : <span class="token variable">$val</span>&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>a + b : 30
a - b : -10
a * b : 200
b / a : 2
b % a : 0
a 不等于 b
</code></pre></div><p>注意：</p> <ul><li>乘号（*）前边必须加反斜杠（\）才能实现乘法运算；</li> <li>if...then...fi 是条件语句</li> <li>Mac中shell的expr语法是：$((表达式))，此处表达式中的&quot;*&quot;不需要转移符号&quot;\&quot;。</li></ul> <h3 id="关系运算符"><a href="#关系运算符" class="header-anchor">#</a> 关系运算符</h3> <p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p> <p>下表列出了常用的关系运算符，假定变量 a 为 10，变量 b 为 20：</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">-eq</td> <td style="text-align:left;">检测两个数是否相等，相等返回 true。</td> <td style="text-align:left;">[ $a -eq $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">-ne</td> <td style="text-align:left;">检测两个数是否不相等，不相等返回 true。</td> <td style="text-align:left;">[ $a -ne $b ] 返回 true。</td></tr> <tr><td style="text-align:left;">-gt</td> <td style="text-align:left;">检测左边的数是否大于右边的，如果是，则返回 true。</td> <td style="text-align:left;">[ $a -gt $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">-lt</td> <td style="text-align:left;">检测左边的数是否小于右边的，如果是，则返回 true。</td> <td style="text-align:left;">[ $a -lt $b ] 返回 true。</td></tr> <tr><td style="text-align:left;">-ge</td> <td style="text-align:left;">检测左边的数是否大于等于右边的，如果是，则返回 true。</td> <td style="text-align:left;">[ $a -ge $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">-le</td> <td style="text-align:left;">检测左边的数是否小于等于右边的，如果是，则返回 true。</td> <td style="text-align:left;">[ $a -le $b ] 返回 true。</td></tr></tbody></table> <h3 id="布尔运算符"><a href="#布尔运算符" class="header-anchor">#</a> 布尔运算符</h3> <p>下表列出了常用的布尔运算符，假定变量 a 为 10，变量 b 为 20：</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">!</td> <td style="text-align:left;">非运算，表达式为 true 则返回 false，否则返回 true。</td> <td style="text-align:left;">[ ! false ] 返回 true。</td></tr> <tr><td style="text-align:left;">-o</td> <td style="text-align:left;">或运算，有一个表达式为 true 则返回 true。</td> <td style="text-align:left;">[ $a -lt 20 -o $b -gt 100 ] 返回 true。</td></tr> <tr><td style="text-align:left;">-a</td> <td style="text-align:left;">与运算，两个表达式都为 true 才返回 true。</td> <td style="text-align:left;">[ $a -lt 20 -a $b -gt 100 ] 返回 false。</td></tr></tbody></table> <h3 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> 逻辑运算符</h3> <p>以下介绍 Shell 的逻辑运算符，假定变量 a 为 10，变量 b 为 20:</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">&amp;&amp;</td> <td style="text-align:left;">逻辑的 AND</td> <td style="text-align:left;">[[ $a -lt 100 &amp;&amp; $b -gt 100 ]] 返回 false</td></tr> <tr><td style="text-align:left;">||</td> <td style="text-align:left;">逻辑的 OR</td> <td style="text-align:left;">[[ $a -lt 100 || $b -gt 100 ]] 返回 true</td></tr></tbody></table> <h3 id="字符串运算符"><a href="#字符串运算符" class="header-anchor">#</a> 字符串运算符</h3> <p>下表列出了常用的字符串运算符，假定变量 a 为 &quot;abc&quot;，变量 b 为 &quot;efg&quot;：</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">=</td> <td style="text-align:left;">检测两个字符串是否相等，相等返回 true。</td> <td style="text-align:left;">[ $a = $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">!=</td> <td style="text-align:left;">检测两个字符串是否相等，不相等返回 true。</td> <td style="text-align:left;">[ $a != $b ] 返回 true。</td></tr> <tr><td style="text-align:left;">-z</td> <td style="text-align:left;">检测字符串长度是否为0，为0返回 true。</td> <td style="text-align:left;">[ -z $a ] 返回 false。</td></tr> <tr><td style="text-align:left;">-n</td> <td style="text-align:left;">检测字符串长度是否不为 0，不为 0 返回 true。</td> <td style="text-align:left;">[ -n &quot;$a&quot; ] 返回 true。</td></tr> <tr><td style="text-align:left;">$</td> <td style="text-align:left;">检测字符串是否为空，不为空返回 true。</td> <td style="text-align:left;">[ $a ] 返回 true。</td></tr></tbody></table> <h3 id="文件测试运算符"><a href="#文件测试运算符" class="header-anchor">#</a> 文件测试运算符</h3> <p>文件测试运算符用于检测 Unix 文件的各种属性。语法：操作符 + 文件</p> <p>属性检测描述如下：</p> <table><thead><tr><th style="text-align:left;">操作符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">-b file</td> <td style="text-align:left;">检测文件是否是块设备文件，如果是，则返回 true。</td> <td style="text-align:left;">[ -b $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-c file</td> <td style="text-align:left;">检测文件是否是字符设备文件，如果是，则返回 true。</td> <td style="text-align:left;">[ -c $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-d file</td> <td style="text-align:left;">检测文件是否是目录，如果是，则返回 true。</td> <td style="text-align:left;">[ -d $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-f file</td> <td style="text-align:left;">检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td> <td style="text-align:left;">[ -f $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-g file</td> <td style="text-align:left;">检测文件是否设置了 SGID 位，如果是，则返回 true。</td> <td style="text-align:left;">[ -g $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-k file</td> <td style="text-align:left;">检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。</td> <td style="text-align:left;">[ -k $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-p file</td> <td style="text-align:left;">检测文件是否是有名管道，如果是，则返回 true。</td> <td style="text-align:left;">[ -p $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-u file</td> <td style="text-align:left;">检测文件是否设置了 SUID 位，如果是，则返回 true。</td> <td style="text-align:left;">[ -u $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-r file</td> <td style="text-align:left;">检测文件是否可读，如果是，则返回 true。</td> <td style="text-align:left;">[ -r $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-w file</td> <td style="text-align:left;">检测文件是否可写，如果是，则返回 true。</td> <td style="text-align:left;">[ -w $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-x file</td> <td style="text-align:left;">检测文件是否可执行，如果是，则返回 true。</td> <td style="text-align:left;">[ -x $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-s file</td> <td style="text-align:left;">检测文件是否为空（文件大小是否大于0），不为空返回 true。</td> <td style="text-align:left;">[ -s $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-e file</td> <td style="text-align:left;">检测文件（包括目录）是否存在，如果是，则返回 true。</td> <td style="text-align:left;">[ -e $file ] 返回 true。</td></tr></tbody></table> <p>其他检查符：</p> <ul><li>-S：判断某文件是否为socket</li> <li>-L：检测文件是否存在并且是一个符号链接。</li></ul> <h2 id="_8-shell-echo命令"><a href="#_8-shell-echo命令" class="header-anchor">#</a> 8 Shell echo命令</h2> <p>Shell 的 echo 指令与 PHP 的 echo 指令类似，都是用于字符串的输出。命令格式：</p> <div class="language- extra-class"><pre class="language-text"><code>echo string
</code></pre></div><p>您可以使用echo实现更复杂的输出格式控制。</p> <h3 id="_1-显示普通字符串"><a href="#_1-显示普通字符串" class="header-anchor">#</a> 1.显示普通字符串:</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>
</code></pre></div><p>这里的双引号完全可以省略，以下命令与上面实例效果一致：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> It is a <span class="token builtin class-name">test</span>
</code></pre></div><h3 id="_2-显示转义字符"><a href="#_2-显示转义字符" class="header-anchor">#</a> 2.显示转义字符</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token entity" title="\&quot;">\&quot;</span>It is a test<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>
</code></pre></div><p>结果将是:</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;It is a test&quot;
</code></pre></div><p>同样，双引号也可以省略</p> <h3 id="_3-显示变量"><a href="#_3-显示变量" class="header-anchor">#</a> 3.显示变量</h3> <p>read 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">read</span> name 
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$name</span> It is a test&quot;</span>
</code></pre></div><p>以上代码保存为 test.sh，name 接收标准输入的变量，结果将是:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># sh test.sh</span>
OK                     <span class="token comment">#标准输入</span>
OK It is a <span class="token builtin class-name">test</span>        <span class="token comment">#输出</span>
</code></pre></div><h3 id="_4-显示换行"><a href="#_4-显示换行" class="header-anchor">#</a> 4.显示换行</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> -e <span class="token string">&quot;OK! <span class="token entity" title="\n">\n</span>&quot;</span> <span class="token comment"># -e 开启转义</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>OK!

It is a test
</code></pre></div><h3 id="_5-显示不换行"><a href="#_5-显示不换行" class="header-anchor">#</a> 5.显示不换行</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;OK! <span class="token entity" title="\c">\c</span>&quot;</span> <span class="token comment"># -e 开启转义 \c 不换行</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>OK! It is a test
</code></pre></div><h3 id="_6-显示结果定向至文件"><a href="#_6-显示结果定向至文件" class="header-anchor">#</a> 6.显示结果定向至文件</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span> <span class="token operator">&gt;</span> myfile
</code></pre></div><h3 id="_7-原样输出字符串-不进行转义或取变量-用单引号"><a href="#_7-原样输出字符串-不进行转义或取变量-用单引号" class="header-anchor">#</a> 7.原样输出字符串，不进行转义或取变量(用单引号)</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'$name\&quot;'</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>$name\&quot;
</code></pre></div><h3 id="_8-显示命令执行结果"><a href="#_8-显示命令执行结果" class="header-anchor">#</a> 8.显示命令执行结果</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>
</code></pre></div><p><strong>注意：</strong> 这里使用的是反引号 <strong>`</strong>, 而不是单引号 <strong>'</strong>。</p> <p>结果将显示当前日期</p> <div class="language- extra-class"><pre class="language-text"><code>Thu Jul 24 10:08:46 CST 2014
</code></pre></div><h2 id="_9-shell-printf-命令"><a href="#_9-shell-printf-命令" class="header-anchor">#</a> 9 Shell printf 命令</h2> <p>上一章节我们学习了 Shell 的 echo 命令，本章节我们来学习 Shell 的另一个输出命令 printf。</p> <p>printf 命令模仿 C 程序库（library）里的 printf() 程序。</p> <p>printf 由 POSIX 标准所定义，因此使用 printf 的脚本比使用 echo 移植性好。</p> <p>printf 使用引用文本或空格分隔的参数，外面可以在 printf 中使用格式化字符串，还可以制定字符串的宽度、左右对齐方式等。默认 printf 不会像 echo 自动添加换行符，我们可以手动添加 \n。</p> <p>printf 命令的语法：</p> <div class="language- extra-class"><pre class="language-text"><code>printf  format-string  [arguments...]
</code></pre></div><p><strong>参数说明：</strong></p> <ul><li><strong>format-string:</strong> 为格式控制字符串</li> <li><strong>arguments:</strong> 为参数列表。</li></ul> <p>实例如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello, Shell&quot;</span>
Hello, Shell
$ <span class="token builtin class-name">printf</span> <span class="token string">&quot;Hello, Shell<span class="token entity" title="\n">\n</span>&quot;</span>
Hello, Shell
$
</code></pre></div><p>接下来,我来用一个脚本来体现printf的强大功能：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>
 
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4s<span class="token entity" title="\n">\n</span>&quot;</span> 姓名 性别 体重kg  
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 郭靖 男 <span class="token number">66.1234</span> 
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 杨过 男 <span class="token number">48.6543</span> 
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 郭芙 女 <span class="token number">47.9876</span> 
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>姓名     性别   体重kg
郭靖     男      66.12
杨过     男      48.65
郭芙     女      47.99
</code></pre></div><p>%s %c %d %f都是格式替代符</p> <p>%-10s 指一个宽度为10个字符（-表示左对齐，没有则表示右对齐），任何字符都会被显示在10个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来。</p> <p>%-4.2f 指格式化为小数，其中.2指保留2位小数。</p> <p>更多实例：</p> <div class="language- extra-class"><pre class="language-text"><code>#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com
 
# format-string为双引号
printf &quot;%d %s\n&quot; 1 &quot;abc&quot;

# 单引号与双引号效果一样 
printf '%d %s\n' 1 &quot;abc&quot; 

# 没有引号也可以输出
printf %s abcdef

# 格式只指定了一个参数，但多出的参数仍然会按照该格式输出，format-string 被重用
printf %s abc def

printf &quot;%s\n&quot; abc def

printf &quot;%s %s %s\n&quot; a b c d e f g h i j

# 如果没有 arguments，那么 %s 用NULL代替，%d 用 0 代替
printf &quot;%s and %d \n&quot; 
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>1 abc
1 abc
abcdefabcdefabc
def
a b c
d e f
g h i
j  
 and 0
</code></pre></div><hr> <h3 id="printf的转义序列"><a href="#printf的转义序列" class="header-anchor">#</a> printf的转义序列</h3> <table><thead><tr><th style="text-align:left;">序列</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">\a</td> <td style="text-align:left;">警告字符，通常为ASCII的BEL字符</td></tr> <tr><td style="text-align:left;">\b</td> <td style="text-align:left;">后退</td></tr> <tr><td style="text-align:left;">\c</td> <td style="text-align:left;">抑制（不显示）输出结果中任何结尾的换行字符（只在%b格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</td></tr> <tr><td style="text-align:left;">\f</td> <td style="text-align:left;">换页（formfeed）</td></tr> <tr><td style="text-align:left;">\n</td> <td style="text-align:left;">换行</td></tr> <tr><td style="text-align:left;">\r</td> <td style="text-align:left;">回车（Carriage return）</td></tr> <tr><td style="text-align:left;">\t</td> <td style="text-align:left;">水平制表符</td></tr> <tr><td style="text-align:left;">\v</td> <td style="text-align:left;">垂直制表符</td></tr> <tr><td style="text-align:left;">\</td> <td style="text-align:left;">一个字面上的反斜杠字符</td></tr> <tr><td style="text-align:left;">\ddd</td> <td style="text-align:left;">表示1到3位数八进制值的字符。仅在格式字符串中有效</td></tr> <tr><td style="text-align:left;">\0ddd</td> <td style="text-align:left;">表示1到3位的八进制值字符</td></tr></tbody></table> <h3 id="实例"><a href="#实例" class="header-anchor">#</a> 实例</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">printf</span> <span class="token string">&quot;a string, no processing:&lt;%s&gt;<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token string">&quot;A<span class="token entity" title="\n">\n</span>B&quot;</span>
a string, no processing:<span class="token operator">&lt;</span>A<span class="token punctuation">\</span>nB<span class="token operator">&gt;</span>

$ <span class="token builtin class-name">printf</span> <span class="token string">&quot;a string, no processing:&lt;%b&gt;<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token string">&quot;A<span class="token entity" title="\n">\n</span>B&quot;</span>
a string, no processing:<span class="token operator">&lt;</span>A
B<span class="token operator">&gt;</span>

$ <span class="token builtin class-name">printf</span> <span class="token string">&quot;www.runoob.com <span class="token entity" title="\a">\a</span>&quot;</span>
www.runoob.com $                  <span class="token comment">#不换行</span>
</code></pre></div><h2 id="_10-shell-test命令"><a href="#_10-shell-test命令" class="header-anchor">#</a> 10 Shell test命令</h2> <p>Shell中的 test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</p> <hr> <h3 id="数值测试"><a href="#数值测试" class="header-anchor">#</a> 数值测试</h3> <table><thead><tr><th style="text-align:left;">参数</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">-eq</td> <td style="text-align:left;">等于则为真</td></tr> <tr><td style="text-align:left;">-ne</td> <td style="text-align:left;">不等于则为真</td></tr> <tr><td style="text-align:left;">-gt</td> <td style="text-align:left;">大于则为真</td></tr> <tr><td style="text-align:left;">-ge</td> <td style="text-align:left;">大于等于则为真</td></tr> <tr><td style="text-align:left;">-lt</td> <td style="text-align:left;">小于则为真</td></tr> <tr><td style="text-align:left;">-le</td> <td style="text-align:left;">小于等于则为真</td></tr></tbody></table> <p>实例演示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>num1<span class="token punctuation">]</span> -eq $<span class="token punctuation">[</span>num2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数相等！'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数不相等！'</span>
<span class="token keyword">fi</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>两个数相等！
</code></pre></div><p>代码中的 [] 执行基本的算数运算，如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">6</span>

<span class="token assign-left variable">result</span><span class="token operator">=</span>$<span class="token punctuation">[</span>a+b<span class="token punctuation">]</span> <span class="token comment"># 注意等号两边不能有空格</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;result 为： <span class="token variable">$result</span>&quot;</span>
</code></pre></div><p>结果为:</p> <div class="language- extra-class"><pre class="language-text"><code>result 为： 11
</code></pre></div><hr> <h3 id="字符串测试"><a href="#字符串测试" class="header-anchor">#</a> 字符串测试</h3> <table><thead><tr><th style="text-align:left;">参数</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">=</td> <td style="text-align:left;">等于则为真</td></tr> <tr><td style="text-align:left;">!=</td> <td style="text-align:left;">不相等则为真</td></tr> <tr><td style="text-align:left;">-z 字符串</td> <td style="text-align:left;">字符串的长度为零则为真</td></tr> <tr><td style="text-align:left;">-n 字符串</td> <td style="text-align:left;">字符串的长度不为零则为真</td></tr></tbody></table> <p>实例演示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token string">&quot;ru1noob&quot;</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token string">&quot;runoob&quot;</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> <span class="token variable">$num1</span> <span class="token operator">=</span> <span class="token variable">$num2</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个字符串相等!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个字符串不相等!'</span>
<span class="token keyword">fi</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>两个字符串不相等!
</code></pre></div><hr> <h3 id="文件测试"><a href="#文件测试" class="header-anchor">#</a> 文件测试</h3> <table><thead><tr><th style="text-align:left;">参数</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">-e 文件名</td> <td style="text-align:left;">如果文件存在则为真</td></tr> <tr><td style="text-align:left;">-r 文件名</td> <td style="text-align:left;">如果文件存在且可读则为真</td></tr> <tr><td style="text-align:left;">-w 文件名</td> <td style="text-align:left;">如果文件存在且可写则为真</td></tr> <tr><td style="text-align:left;">-x 文件名</td> <td style="text-align:left;">如果文件存在且可执行则为真</td></tr> <tr><td style="text-align:left;">-s 文件名</td> <td style="text-align:left;">如果文件存在且至少有一个字符则为真</td></tr> <tr><td style="text-align:left;">-d 文件名</td> <td style="text-align:left;">如果文件存在且为目录则为真</td></tr> <tr><td style="text-align:left;">-f 文件名</td> <td style="text-align:left;">如果文件存在且为普通文件则为真</td></tr> <tr><td style="text-align:left;">-c 文件名</td> <td style="text-align:left;">如果文件存在且为字符型特殊文件则为真</td></tr> <tr><td style="text-align:left;">-b 文件名</td> <td style="text-align:left;">如果文件存在且为块特殊文件则为真</td></tr></tbody></table> <p>实例演示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /bin
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> -e ./bash
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'文件已存在!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'文件不存在!'</span>
<span class="token keyword">fi</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>文件已存在!
</code></pre></div><p>另外，Shell还提供了与( -a )、或( -o )、非( ! )三个逻辑操作符用于将测试条件连接起来，其优先级为：&quot;!&quot;最高，&quot;-a&quot;次之，&quot;-o&quot;最低。例如：</p> <div class="language- extra-class"><pre class="language-text"><code>cd /bin
if test -e ./notFile -o -e ./bash
then
    echo '至少有一个文件存在!'
else
    echo '两个文件都不存在'
fi
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>至少有一个文件存在!
</code></pre></div><h2 id="_11-shell流程控制"><a href="#_11-shell流程控制" class="header-anchor">#</a> 11 Shell流程控制</h2> <h3 id="if"><a href="#if" class="header-anchor">#</a> if</h3> <p>if 语句语法格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1 
    command2
    <span class="token punctuation">..</span>.
    commandN 
<span class="token keyword">fi</span>
</code></pre></div><p>写成一行（适用于终端命令提示符）：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> -c <span class="token string">&quot;ssh&quot;</span><span class="token variable">)</span></span> -gt <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">;</span> <span class="token keyword">fi</span>
</code></pre></div><p>末尾的fi就是if倒过来拼写，后面还会遇到类似的。</p> <h3 id="if-else"><a href="#if-else" class="header-anchor">#</a> if else</h3> <p>if else 语法格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1 
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">else</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="if-else-if-else"><a href="#if-else-if-else" class="header-anchor">#</a> if else-if else</h3> <p>if else-if else 语法格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> condition1
<span class="token keyword">then</span>
    command1
<span class="token keyword">elif</span> condition2 
<span class="token keyword">then</span> 
    command2
<span class="token keyword">else</span>
    commandN
<span class="token keyword">fi</span>
</code></pre></div><h3 id="for-循环"><a href="#for-循环" class="header-anchor">#</a> for 循环</h3> <p>与其他编程语言类似，Shell支持for循环。</p> <p>for循环一般格式为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN
<span class="token keyword">do</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">done</span>
</code></pre></div><p>写成一行：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN<span class="token punctuation">;</span> <span class="token keyword">do</span> command1<span class="token punctuation">;</span> command2… <span class="token keyword">done</span><span class="token punctuation">;</span>
</code></pre></div><p>当变量值在列表里，for循环即执行一次所有命令，使用变量名获取列表中的当前取值。命令可为任何有效的shell命令和语句。in列表可以包含替换、字符串和文件名。</p> <p>in列表是可选的，如果不用它，for循环使用命令行的位置参数。</p> <p>例如，顺序输出当前列表中的数字：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">loop</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;The value is: <span class="token variable">$loop</span>&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>The value is: 1
The value is: 2
The value is: 3
The value is: 4
The value is: 5
</code></pre></div><p>顺序输出字符串中的字符：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">str</span> <span class="token keyword">in</span> <span class="token string">'This is a string'</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$str</span>
<span class="token keyword">done</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>This is a string
</code></pre></div><hr> <h3 id="while-语句"><a href="#while-语句" class="header-anchor">#</a> while 语句</h3> <p>while循环用于不断执行一系列命令，也用于从输入文件中读取数据；命令通常为测试条件。其格式为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">while</span> condition
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>以下是一个基本的while循环，测试条件是：如果int小于等于5，那么条件返回真。int从0开始，每次循环处理时，int加1。运行上述脚本，返回数字1到5，然后终止。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">int</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $int<span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$int</span>
    <span class="token builtin class-name">let</span> <span class="token string">&quot;int++&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p>运行脚本，输出：</p> <div class="language- extra-class"><pre class="language-text"><code>1
2
3
4
5
</code></pre></div><p>以上实例使用了 Bash let 命令，它用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量，具体可查阅：<a href="https://www.runoob.com/linux/linux-comm-let.html" target="_blank" rel="noopener noreferrer">Bash let 命令<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>while循环可用于读取键盘信息。下面的例子中，输入信息被设置为变量FILM，按<code>Ctrl-D</code>结束循环。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'按下 &lt;CTRL-D&gt; 退出'</span>
<span class="token builtin class-name">echo</span> -n <span class="token string">'输入你最喜欢的网站名: '</span>
<span class="token keyword">while</span> <span class="token builtin class-name">read</span> FILM
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;是的！<span class="token variable">$FILM</span> 是一个好网站&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p>运行脚本，输出类似下面：</p> <div class="language- extra-class"><pre class="language-text"><code>按下 &lt;CTRL-D&gt; 退出
输入你最喜欢的网站名:菜鸟教程
是的！菜鸟教程 是一个好网站
</code></pre></div><h3 id="无限循环"><a href="#无限循环" class="header-anchor">#</a> 无限循环</h3> <p>无限循环语法格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>或者</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">while</span> <span class="token boolean">true</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>或者</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> <span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token punctuation">))</span></span>
</code></pre></div><hr> <h3 id="until-循环"><a href="#until-循环" class="header-anchor">#</a> until 循环</h3> <p>until 循环执行一系列命令直至条件为 true 时停止。</p> <p>until 循环与 while 循环在处理方式上刚好相反。</p> <p>一般 while 循环优于 until 循环，但在某些时候—也只是极少数情况下，until 循环更加有用。</p> <p>until 语法格式:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">until</span> condition
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>condition 一般为条件表达式，如果返回值为 false，则继续执行循环体内的语句，否则跳出循环。</p> <p>以下实例我们使用 until 命令来输出 0 ~ 9 的数字：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token variable">$a</span> -lt <span class="token number">10</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$a</span>
   <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + <span class="token number">1</span><span class="token variable">`</span></span>
<span class="token keyword">done</span>
</code></pre></div><p>运行结果：</p> <p>输出结果为：</p> <div class="language- extra-class"><pre class="language-text"><code>0
1
2
3
4
5
6
7
8
9
</code></pre></div><hr> <h3 id="case"><a href="#case" class="header-anchor">#</a> case</h3> <p>Shell case语句为多选择语句。可以用case语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令。case语句格式如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">case</span> 值 <span class="token keyword">in</span>
模式1<span class="token punctuation">)</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
模式2）
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><p>case工作方式如上所示。取值后面必须为单词in，每一模式必须以右括号结束。取值可以为变量或常数。匹配发现取值符合某一模式后，其间所有命令开始执行直至 ;;。</p> <p>取值将检测匹配的每一个模式。一旦模式匹配，则执行完匹配模式相应命令后不再继续其他模式。如果无一匹配模式，使用星号 * 捕获该值，再执行后面的命令。</p> <p>下面的脚本提示输入1到4，与每一种模式进行匹配：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">'输入 1 到 4 之间的数字:'</span>
<span class="token builtin class-name">echo</span> <span class="token string">'你输入的数字为:'</span>
<span class="token builtin class-name">read</span> aNum
<span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
    <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 1'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 2'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 3'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 4'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你没有输入 1 到 4 之间的数字'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><p>输入不同的内容，会有不同的结果，例如：</p> <div class="language- extra-class"><pre class="language-text"><code>输入 1 到 4 之间的数字:
你输入的数字为:
3
你选择了 3
</code></pre></div><hr> <h3 id="跳出循环"><a href="#跳出循环" class="header-anchor">#</a> 跳出循环</h3> <p>在循环过程中，有时候需要在未达到循环结束条件时强制跳出循环，Shell使用两个命令来实现该功能：break和continue。</p> <h4 id="break命令"><a href="#break命令" class="header-anchor">#</a> break命令</h4> <p>break命令允许跳出所有循环（终止执行后面的所有循环）。</p> <p>下面的例子中，脚本进入死循环直至用户输入数字大于5。要跳出这个循环，返回到shell提示符下，需要使用break命令。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> -n <span class="token string">&quot;输入 1 到 5 之间的数字:&quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字为 <span class="token variable">$aNum</span>!&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字不是 1 到 5 之间的! 游戏结束&quot;</span>
            <span class="token builtin class-name">break</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>
</code></pre></div><p>执行以上代码，输出结果为：</p> <div class="language- extra-class"><pre class="language-text"><code>输入 1 到 5 之间的数字:3
你输入的数字为 3!
输入 1 到 5 之间的数字:7
你输入的数字不是 1 到 5 之间的! 游戏结束
</code></pre></div><h4 id="continue"><a href="#continue" class="header-anchor">#</a> continue</h4> <p>continue命令与break命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p> <p>对上面的例子进行修改：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> -n <span class="token string">&quot;输入 1 到 5 之间的数字: &quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字为 <span class="token variable">$aNum</span>!&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字不是 1 到 5 之间的!&quot;</span>
            <span class="token builtin class-name">continue</span>
            <span class="token builtin class-name">echo</span> <span class="token string">&quot;游戏结束&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>
</code></pre></div><p>运行代码发现，当输入大于5的数字时，该例中的循环不会结束，语句 <strong>echo &quot;游戏结束&quot;</strong> 永远不会被执行。</p> <hr> <h3 id="case-esac"><a href="#case-esac" class="header-anchor">#</a> case ... esac</h3> <p><strong>case ... esac</strong> 与其他语言中的 switch ... case 语句类似，是一种多分枝选择结构，每个 case 分支用右圆括号开始，用两个分号 <strong>;;</strong> 表示 break，即执行结束，跳出整个 case ... esac 语句，esac（就是 case 反过来）作为结束标记。</p> <p>case ... esac 语法格式如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">case</span> 值 <span class="token keyword">in</span>
模式1<span class="token punctuation">)</span>
    command1
    command2
    command3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
模式2）
    command1
    command2
    command3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
    command1
    command2
    command3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><p>case 后为取值，值可以为变量或常数。</p> <p>值后为关键字 in，接下来是匹配的各种模式，每一模式最后必须以右括号结束，模式支持正则表达式。</p> <h3 id="实例-2"><a href="#实例-2" class="header-anchor">#</a> 实例</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token assign-left variable">site</span><span class="token operator">=</span><span class="token string">&quot;runoob&quot;</span>

<span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$site</span>&quot;</span> <span class="token keyword">in</span>
  <span class="token string">&quot;runoob&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;菜鸟教程&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token string">&quot;google&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Google 搜索&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token string">&quot;taobao&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;淘宝网&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><p>输出结果为：</p> <div class="language- extra-class"><pre class="language-text"><code>菜鸟教程
</code></pre></div><h2 id="_12-shell函数"><a href="#_12-shell函数" class="header-anchor">#</a> 12 Shell函数</h2> <h3 id="函数定义"><a href="#函数定义" class="header-anchor">#</a> 函数定义</h3> <p>linux shell 可以用户定义函数，然后在shell脚本中可以随便调用。</p> <p>shell中函数的定义格式如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span> <span class="token keyword">function</span> <span class="token punctuation">]</span> funname <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token punctuation">{</span>

    action<span class="token punctuation">;</span>

    <span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>

<span class="token punctuation">}</span>
</code></pre></div><p>说明：</p> <ul><li>1、可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。</li> <li>2、参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。 return后跟数值n(0-255</li></ul> <p>下面的例子定义了一个函数并进行调用：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token function-name function">demoFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这是我的第一个 shell 函数!&quot;</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----函数开始执行-----&quot;</span>
demoFun
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----函数执行完毕-----&quot;</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>-----函数开始执行-----
这是我的第一个 shell 函数!
-----函数执行完毕-----
</code></pre></div><p>下面定义一个带有return语句的函数：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token function-name function">funWithReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这个函数会对输入的两个数字进行相加运算...&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;输入第一个数字: &quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;输入第二个数字: &quot;</span>
    <span class="token builtin class-name">read</span> anotherNum
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;两个数字分别为 <span class="token variable">$aNum</span> 和 <span class="token variable">$anotherNum</span> !&quot;</span>
    <span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$aNum<span class="token operator">+</span>$anotherNum<span class="token variable">))</span></span>
<span class="token punctuation">}</span>
funWithReturn
<span class="token builtin class-name">echo</span> <span class="token string">&quot;输入的两个数字之和为 <span class="token variable">$?</span> !&quot;</span>
</code></pre></div><p>输出类似下面：</p> <div class="language- extra-class"><pre class="language-text"><code>这个函数会对输入的两个数字进行相加运算...
输入第一个数字: 
1
输入第二个数字: 
2
两个数字分别为 1 和 2 !
输入的两个数字之和为 3 !
</code></pre></div><p>函数返回值在调用该函数后通过 $? 来获得。</p> <p>注意：所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。</p> <hr> <h3 id="函数参数"><a href="#函数参数" class="header-anchor">#</a> 函数参数</h3> <p>在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 $n 的形式来获取参数的值，例如，$1表示第一个参数，$2表示第二个参数...</p> <p>带参数的函数示例：</p> <div class="language- extra-class"><pre class="language-text"><code>#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

funWithParam(){
    echo &quot;第一个参数为 $1 !&quot;
    echo &quot;第二个参数为 $2 !&quot;
    echo &quot;第十个参数为 $10 !&quot;
    echo &quot;第十个参数为 ${10} !&quot;
    echo &quot;第十一个参数为 ${11} !&quot;
    echo &quot;参数总数有 $# 个!&quot;
    echo &quot;作为一个字符串输出所有参数 $* !&quot;
}
funWithParam 1 2 3 4 5 6 7 8 9 34 73
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>第一个参数为 1 !
第二个参数为 2 !
第十个参数为 10 !
第十个参数为 34 !
第十一个参数为 73 !
参数总数有 11 个!
作为一个字符串输出所有参数 1 2 3 4 5 6 7 8 9 34 73 !
</code></pre></div><p>注意，$10 不能获取第十个参数，获取第十个参数需要${10}。当n&gt;=10时，需要使用${n}来获取参数。</p> <p>另外，还有几个特殊字符用来处理参数：</p> <table><thead><tr><th style="text-align:left;">参数处理</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">$#</td> <td style="text-align:left;">传递到脚本或函数的参数个数</td></tr> <tr><td style="text-align:left;">$*</td> <td style="text-align:left;">以一个单字符串显示所有向脚本传递的参数</td></tr> <tr><td style="text-align:left;">$$</td> <td style="text-align:left;">脚本运行的当前进程ID号</td></tr> <tr><td style="text-align:left;">$!</td> <td style="text-align:left;">后台运行的最后一个进程的ID号</td></tr> <tr><td style="text-align:left;">$@</td> <td style="text-align:left;">与$*相同，但是使用时加引号，并在引号中返回每个参数。</td></tr> <tr><td style="text-align:left;">$-</td> <td style="text-align:left;">显示Shell使用的当前选项，与set命令功能相同。</td></tr> <tr><td style="text-align:left;">$?</td> <td style="text-align:left;">显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td></tr></tbody></table> <h2 id="_13-shell-输入-输出重定向"><a href="#_13-shell-输入-输出重定向" class="header-anchor">#</a> 13 Shell 输入/输出重定向</h2> <p>大多数 UNIX 系统命令从你的终端接受输入并将所产生的输出发送回到您的终端。一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。</p> <p>重定向命令列表如下：</p> <table><thead><tr><th style="text-align:left;">命令</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">command &gt; file</td> <td style="text-align:left;">将输出重定向到 file。</td></tr> <tr><td style="text-align:left;">command &lt; file</td> <td style="text-align:left;">将输入重定向到 file。</td></tr> <tr><td style="text-align:left;">command &gt;&gt; file</td> <td style="text-align:left;">将输出以追加的方式重定向到 file。</td></tr> <tr><td style="text-align:left;">n &gt; file</td> <td style="text-align:left;">将文件描述符为 n 的文件重定向到 file。</td></tr> <tr><td style="text-align:left;">n &gt;&gt; file</td> <td style="text-align:left;">将文件描述符为 n 的文件以追加的方式重定向到 file。</td></tr> <tr><td style="text-align:left;">n &gt;&amp; m</td> <td style="text-align:left;">将输出文件 m 和 n 合并。</td></tr> <tr><td style="text-align:left;">n &lt;&amp; m</td> <td style="text-align:left;">将输入文件 m 和 n 合并。</td></tr> <tr><td style="text-align:left;">&lt;&lt; tag</td> <td style="text-align:left;">将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td></tr></tbody></table> <blockquote><p>需要注意的是文件描述符 0 通常是标准输入（STDIN），1 是标准输出（STDOUT），2 是标准错误输出（STDERR）。</p></blockquote> <hr> <h3 id="输出重定向"><a href="#输出重定向" class="header-anchor">#</a> 输出重定向</h3> <p>重定向一般通过在命令间插入特定的符号来实现。特别的，这些符号的语法如下所示:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>command1 <span class="token operator">&gt;</span> file1
</code></pre></div><p>上面这个命令执行command1然后将输出的内容存入file1。</p> <p>注意任何file1内的已经存在的内容将被新内容替代。如果要将新内容添加在文件末尾，请使用&gt;&gt;操作符。</p> <h4 id="实例-3"><a href="#实例-3" class="header-anchor">#</a> 实例</h4> <p>执行下面的 who 命令，它将命令的完整的输出重定向在用户文件中(users):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">who</span> <span class="token operator">&gt;</span> <span class="token function">users</span>
</code></pre></div><p>执行后，并没有在终端输出信息，这是因为输出已被从默认的标准输出设备（终端）重定向到指定的文件。</p> <p>你可以使用 cat 命令查看文件内容：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">cat</span> <span class="token function">users</span>
_mbsetupuser console  Oct <span class="token number">31</span> <span class="token number">17</span>:35 
tianqixin    console  Oct <span class="token number">31</span> <span class="token number">17</span>:35 
tianqixin    ttys000  Dec  <span class="token number">1</span> <span class="token number">11</span>:33 
</code></pre></div><p>输出重定向会覆盖文件内容，请看下面的例子：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;菜鸟教程：www.runoob.com&quot;</span> <span class="token operator">&gt;</span> <span class="token function">users</span>
$ <span class="token function">cat</span> <span class="token function">users</span>
菜鸟教程：www.runoob.com
$
</code></pre></div><p>如果不希望文件内容被覆盖，可以使用 &gt;&gt; 追加到文件末尾，例如：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;菜鸟教程：www.runoob.com&quot;</span> <span class="token operator">&gt;&gt;</span> <span class="token function">users</span>
$ <span class="token function">cat</span> <span class="token function">users</span>
菜鸟教程：www.runoob.com
菜鸟教程：www.runoob.com
$
</code></pre></div><hr> <h3 id="输入重定向"><a href="#输入重定向" class="header-anchor">#</a> 输入重定向</h3> <p>和输出重定向一样，Unix 命令也可以从文件获取输入，语法为：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>command1 <span class="token operator">&lt;</span> file1
</code></pre></div><p>这样，本来需要从键盘获取输入的命令会转移到文件读取内容。</p> <p>注意：输出重定向是大于号(&gt;)，输入重定向是小于号(&lt;)。</p> <h4 id="实例-4"><a href="#实例-4" class="header-anchor">#</a> 实例</h4> <p>接着以上实例，我们需要统计 users 文件的行数,执行以下命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">wc</span> -l <span class="token function">users</span>
       <span class="token number">2</span> <span class="token function">users</span>
</code></pre></div><p>也可以将输入重定向到 users 文件：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$  <span class="token function">wc</span> -l <span class="token operator">&lt;</span> <span class="token function">users</span>
       <span class="token number">2</span> 
</code></pre></div><p>注意：上面两个例子的结果不同：第一个例子，会输出文件名；第二个不会，因为它仅仅知道从标准输入读取内容。</p> <div class="language- extra-class"><pre class="language-text"><code>command1 &lt; infile &gt; outfile
</code></pre></div><p>同时替换输入和输出，执行command1，从文件infile读取内容，然后将输出写入到outfile中。</p> <h3 id="重定向深入讲解"><a href="#重定向深入讲解" class="header-anchor">#</a> 重定向深入讲解</h3> <p>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</p> <ul><li>标准输入文件(stdin)：stdin的文件描述符为0，Unix程序默认从stdin读取数据。</li> <li>标准输出文件(stdout)：stdout 的文件描述符为1，Unix程序默认向stdout输出数据。</li> <li>标准错误文件(stderr)：stderr的文件描述符为2，Unix程序会向stderr流中写入错误信息。</li></ul> <p>默认情况下，command &gt; file 将 stdout 重定向到 file，command &lt; file 将stdin 重定向到 file。</p> <p>如果希望 stderr 重定向到 file，可以这样写：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">command</span> <span class="token number">2</span> <span class="token operator">&gt;</span> <span class="token function">file</span>
</code></pre></div><p>如果希望 stderr 追加到 file 文件末尾，可以这样写：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">command</span> <span class="token number">2</span> <span class="token operator">&gt;&gt;</span> <span class="token function">file</span>
</code></pre></div><p><strong>2</strong> 表示标准错误文件(stderr)。</p> <p>如果希望将 stdout 和 stderr 合并后重定向到 file，可以这样写：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">command</span> <span class="token operator">&gt;</span> <span class="token function">file</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>

或者

$ <span class="token builtin class-name">command</span> <span class="token operator">&gt;&gt;</span> <span class="token function">file</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><p>如果希望对 stdin 和 stdout 都重定向，可以这样写：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">command</span> <span class="token operator">&lt;</span> file1 <span class="token operator">&gt;</span>file2
</code></pre></div><p>command 命令将 stdin 重定向到 file1，将 stdout 重定向到 file2。</p> <hr> <h3 id="here-document"><a href="#here-document" class="header-anchor">#</a> Here Document</h3> <p>Here Document 是 Shell 中的一种特殊的重定向方式，用来将输入重定向到一个交互式 Shell 脚本或程序。</p> <p>它的基本的形式如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">command</span> <span class="token operator">&lt;&lt;</span> <span class="token string">delimiter
    document
delimiter</span>
</code></pre></div><p>它的作用是将两个 delimiter 之间的内容(document) 作为输入传递给 command。</p> <blockquote><p>注意：</p> <ul><li>结尾的delimiter 一定要顶格写，前面不能有任何字符，后面也不能有任何字符，包括空格和 tab 缩进。</li> <li>开始的delimiter前后的空格会被忽略掉。</li></ul></blockquote> <h4 id="实例-5"><a href="#实例-5" class="header-anchor">#</a> 实例</h4> <p>在命令行中通过 wc -l 命令计算 Here Document 的行数：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">wc</span> -l <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
    欢迎来到
    菜鸟教程
    www.runoob.com
EOF</span>
<span class="token number">3</span>          <span class="token comment"># 输出结果为 3 行</span>
$
</code></pre></div><p>我们也可以将 Here Document 用在脚本中，例如：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
欢迎来到
菜鸟教程
www.runoob.com
EOF</span>
</code></pre></div><p>执行以上脚本，输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>欢迎来到
菜鸟教程
www.runoob.com
</code></pre></div><hr> <h3 id="dev-null-文件"><a href="#dev-null-文件" class="header-anchor">#</a> /dev/null 文件</h3> <p>如果希望执行某个命令，但又不希望在屏幕上显示输出结果，那么可以将输出重定向到 /dev/null：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">command</span> <span class="token operator">&gt;</span> /dev/null
</code></pre></div><p>/dev/null 是一个特殊的文件，写入到它的内容都会被丢弃；如果尝试从该文件读取内容，那么什么也读不到。但是 /dev/null 文件非常有用，将命令的输出重定向到它，会起到&quot;禁止输出&quot;的效果。</p> <p>如果希望屏蔽 stdout 和 stderr，可以这样写：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">command</span> <span class="token operator">&gt;</span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><blockquote><p>**注意：**0 是标准输入（STDIN），1 是标准输出（STDOUT），2 是标准错误输出（STDERR）。</p></blockquote> <h2 id="_14-shell-文件包含"><a href="#_14-shell-文件包含" class="header-anchor">#</a> 14 Shell 文件包含</h2> <p>和其他语言一样，Shell 也可以包含外部脚本。这样可以很方便的封装一些公用的代码作为一个独立的文件。</p> <p>Shell 文件包含的语法格式如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">.</span> filename   <span class="token comment"># 注意点号(.)和文件名中间有一空格</span>

或

<span class="token builtin class-name">source</span> filename
</code></pre></div><h3 id="实例-6"><a href="#实例-6" class="header-anchor">#</a> 实例</h3> <p>创建两个 shell 脚本文件。</p> <p>test1.sh 代码如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;http://www.runoob.com&quot;</span>
</code></pre></div><p>test2.sh 代码如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token comment">#使用 . 号来引用test1.sh 文件</span>
<span class="token builtin class-name">.</span> ./test1.sh

<span class="token comment"># 或者使用以下包含文件代码</span>
<span class="token comment"># source ./test1.sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;菜鸟教程官网地址：<span class="token variable">$url</span>&quot;</span>
</code></pre></div><p>接下来，我们为 test2.sh 添加可执行权限并执行：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">chmod</span> +x test2.sh 
$ ./test2.sh 
菜鸟教程官网地址：http://www.runoob.com
</code></pre></div><blockquote><p>**注：**被包含的文件 test1.sh 不需要可执行权限。</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/v-blog/assets/js/app.9757520d.js" defer></script><script src="/v-blog/assets/js/2.943addfd.js" defer></script><script src="/v-blog/assets/js/122.cb17a43a.js" defer></script>
  </body>
</html>
